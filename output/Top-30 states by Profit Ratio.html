<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/><style>
table {border: medium solid #6495ed;border-collapse: collapse;width: 100%;} th{font-family: monospace;border: thin solid #6495ed;padding: 5px;background-color: #D0E3FA;}th{text-align: left;}td{font-family: sans-serif;border: thin solid #6495ed;padding: 5px;text-align: center;}.odd{background:#e8edff;}img{padding:5px; border:solid; border-color: #dddddd #aaaaaa #aaaaaa #dddddd; border-width: 1px 2px 2px 1px; background-color:white;}</style>
</head>
<body>
<table><tr><th colspan="2"><pre><code>/* Profit ratio (Sum(profit)/sum(sales)) by State */<br>select o.state 'State', round(sum(s.profit)/sum(s.sales),2)*100 'Profit Ratio (Profit/Sales) %'<br>from sales s <br>inner join orders o on o.city = s.city<br>group by 1 order by 2 desc limit 30</code></pre></th></tr><tr><th>State</th><th>Profit Ratio (Profit/Sales) %</th></tr><tr class="odd"><td>Louisiana</td><td>39</td></tr>
<tr><td>District of Columbia</td><td>37</td></tr>
<tr class="odd"><td>Maine</td><td>36</td></tr>
<tr><td>Minnesota</td><td>35</td></tr>
<tr class="odd"><td>Montana</td><td>34</td></tr>
<tr><td>Rhode Island</td><td>33</td></tr>
<tr class="odd"><td>Kansas</td><td>32</td></tr>
<tr><td>Michigan</td><td>31</td></tr>
<tr class="odd"><td>South Dakota</td><td>30</td></tr>
<tr><td>Mississippi</td><td>30</td></tr>
<tr class="odd"><td>Arkansas</td><td>29</td></tr>
<tr><td>Nebraska</td><td>29</td></tr>
<tr class="odd"><td>New Mexico</td><td>28</td></tr>
<tr><td>Massachusetts</td><td>25</td></tr>
<tr class="odd"><td>Oklahoma</td><td>25</td></tr>
<tr><td>North Dakota</td><td>25</td></tr>
<tr class="odd"><td>Washington</td><td>24</td></tr>
<tr><td>New York</td><td>24</td></tr>
<tr class="odd"><td>Maryland</td><td>24</td></tr>
<tr><td>Nevada</td><td>23</td></tr>
<tr class="odd"><td>Wisconsin</td><td>23</td></tr>
<tr><td>Indiana</td><td>23</td></tr>
<tr class="odd"><td>South Carolina</td><td>23</td></tr>
<tr><td>Kentucky</td><td>21</td></tr>
<tr class="odd"><td>New Jersey</td><td>21</td></tr>
<tr><td>Utah</td><td>21</td></tr>
<tr class="odd"><td>Delaware</td><td>21</td></tr>
<tr><td>Georgia</td><td>21</td></tr>
<tr class="odd"><td>Virginia</td><td>19</td></tr>
<tr><td>Alabama</td><td>17</td></tr>
</table></body></html>