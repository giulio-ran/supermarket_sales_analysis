<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/><style>
table {border: medium solid #6495ed;border-collapse: collapse;width: 100%;} th{font-family: monospace;border: thin solid #6495ed;padding: 5px;background-color: #D0E3FA;}th{text-align: left;}td{font-family: sans-serif;border: thin solid #6495ed;padding: 5px;text-align: center;}.odd{background:#e8edff;}img{padding:5px; border:solid; border-color: #dddddd #aaaaaa #aaaaaa #dddddd; border-width: 1px 2px 2px 1px; background-color:white;}</style>
</head>
<body>
<table><tr><th colspan="2"><pre><code>/* Profit Ratio by Sub-Category */<br>SELECT p.sub_category 'Sub-Category', round(SUM(s.profit)/SUM(s.sales)*100,2) 'Profit Ratio'<br>FROM sales s<br>INNER JOIN (<br>    SELECT DISTINCT product_id, sub_category <br>    FROM products<br>) p ON s.product_id = p.product_id<br>GROUP BY 1<br>ORDER BY 2 DESC</code></pre></th></tr><tr><th>Sub-Category</th><th>Profit Ratio</th></tr><tr class="odd"><td>Labels</td><td>44,42</td></tr>
<tr><td>Paper</td><td>43,39</td></tr>
<tr class="odd"><td>Envelopes</td><td>42,27</td></tr>
<tr><td>Copiers</td><td>37,2</td></tr>
<tr class="odd"><td>Fasteners</td><td>31,4</td></tr>
<tr><td>Accessories</td><td>25,05</td></tr>
<tr class="odd"><td>Art</td><td>24,07</td></tr>
<tr><td>Appliances</td><td>16,87</td></tr>
<tr class="odd"><td>Binders</td><td>14,86</td></tr>
<tr><td>Furnishings</td><td>14,24</td></tr>
<tr class="odd"><td>Phones</td><td>13,49</td></tr>
<tr><td>Storage</td><td>9,51</td></tr>
<tr class="odd"><td>Chairs</td><td>8,1</td></tr>
<tr><td>Machines</td><td>1,79</td></tr>
<tr class="odd"><td>Supplies</td><td>-2,55</td></tr>
<tr><td>Bookcases</td><td>-3,02</td></tr>
<tr class="odd"><td>Tables</td><td>-8,56</td></tr>
</table></body></html>